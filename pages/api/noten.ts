import axios from "axios";
import type { NextApiRequest, NextApiResponse } from "next";

export default async function handler(req: NextApiRequest, res: NextApiResponse<any>) {
  const data = await axios({
    method: "GET",
    url: "https://intranet.fhwn.ac.at/services/noten/noten.aspx?matnummer=2010830009",
    headers: {
      "User-Agent":
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36",
      Cookie:
        "fhwn=04A8DBA42DECD21CED47FC74DCBB30534D73B99BFB40BC7A32A1FFF0E946485404E52AB09C0A427FD5F4FFACBC9B41C6E36AF58A939E976A6C8BF5AF690D2AD302BB4AF6E2691599D3A9A71ECD7F45BA63E27944137E0C010694515EB4D114E312719FDE97A553CB5BCABE66657803A789D92AFB0F9BE027EB9B7F86AB44861A47CC62C57E056BD0D159B77600A853EDC165588143094EA16E8489AB0B8AC72E6A901C5B7BBB0DF8667AF56D668B19D85E682260577A1930E54928B2791EB61411EE829FE0C73746D6E7D933E8CDBBAF7C760C418B57993508C5F9DF535CFF9CA9A5D209A7561C91CBB8FEFE93CCB76F7ABF632F74860C6968CAB28AF0EB591B377668EC392FFBF62FBDDB113C4A97B9D7A5EE70C3339B75DFD1CB73DC0D54211C2D9C3275E3DFADA2A51D9124DE6C468619EAEB39C96D1FB2592FE38529020ECCDE7D5932393C197A8594077EB14C7757A792768611B0A680992E1FDAAD210F363F11AC2FD8C7243368AB81044CF86C84883B9CECA0EA57E9A877070DC6CA687AE9FD8457190B36AB570C580414B6096940E031D11E02071A16BA1ABCF9C6CFDE2E20AB1975BAB5AA2B5BE49A6C914E30C38F0A49557BEAF522AE2F851700CBB42D380F173B31D460481463CF237284; expires=Thu, 03-Mar-2022 22:55:40 GMT; path=/; secure",
    },
  });

  console.log(data);

  res.status(200).send(data.data.trim());
}
